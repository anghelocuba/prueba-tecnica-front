<div class="main-background">
<div class="container">
    

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
      <h2>Registro de Cliente</h2>  
     <div class="form-row">      
        <div class="form-group">
            <label>Tipo de Documento</label>
            <select formControlName="tipoDocumento">
                <option value="">Seleccione</option>
                <option value="DNI">DNI</option>
                <option value="CE">Carnet de Extranjería</option>
            </select>
            <small *ngIf="form.get('tipoDocumento')?.invalid && form.get('tipoDocumento')?.touched">
                Tipo de documento es obligatorio
            </small>
        </div>

        <div class="form-group">
            <label>N° Documento</label>
            <input type="text" formControlName="numeroDocumento" placeholder="Número de documento" />
            <small *ngIf="form.get('numeroDocumento')?.invalid && form.get('numeroDocumento')?.touched">
                N° Documento es obligatorio
            </small>
        </div>
       </div>

        <div class="form-row">

        <div class="form-group">
            <label>Nombres</label>
            <input type="text" formControlName="nombres" placeholder="Ingrese nombres" />
            <small *ngIf="form.get('nombres')?.invalid && form.get('nombres')?.touched">
                Nombres es obligatorio
            </small>
        </div>

        <div class="form-group">
            <label>Apellidos</label>
            <input type="text" formControlName="apellidos" placeholder="Ingrese apellidos" />
            <small *ngIf="form.get('apellidos')?.invalid && form.get('apellidos')?.touched">
                Apellidos es obligatorio
            </small>
        </div>
</div>
        

        <div class="form-group">
            <label>Bono de Bienvenida</label>
            <select formControlName="bono">
                <option value="">Seleccione</option>
                <option value="10">Bono 10%</option>
                <option value="20">Bono 20%</option>
            </select>
            <small *ngIf="form.get('bono')?.invalid && form.get('bono')?.touched">
                Bono es obligatorio
            </small>
        </div>

        <div class="form-group">
            <label>Fecha de Nacimiento</label>
            <input type="date" formControlName="fechaNacimiento" />
            <small *ngIf="form.get('fechaNacimiento')?.errors?.['menorEdad'] && form.get('fechaNacimiento')?.touched">
                Debe ser mayor de 18 años
            </small>
             <small *ngIf="form.get('fechaNacimiento')?.errors?.['required'] && form.get('fechaNacimiento')?.touched">
                La fecha de nacimiento es obligatoria
            </small>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" formControlName="email" placeholder="correo@ejemplo.com" />
            <small *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched">
                El formato de email es inválido
            </small>
        </div>
        
        <div class="form-group">
            <label>Token de Seguridad</label>
            <input type="text" formControlName="token" [attr.placeholder]="isLoadingToken ? 'Obteniendo token...' : 'Ingrese token o edite'" />
            <small *ngIf="isLoadingToken">Cargando token...</small>
        </div>

        <div class="form-actions">
            <button type="submit" [disabled]="form.invalid || isLoadingToken">
                Registrar
            </button>
        </div>

    </form>
</div>
</div>